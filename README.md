# Task Nudge

Помогает разработчикам оставаться на правильном пути, отправляя периодические напоминания в моменты неактивности.

## Описание

**Task Nudge** — это расширение для VS Code, которое отслеживает активность разработчика и показывает диалоги с вопросами в периоды неактивности. Расширение адаптирует частоту напоминаний в зависимости от типа текущих блокировок (ожидание ответа от коллег, процессов и т.д.).

## Основные возможности

- **Отслеживание активности**: Мониторинг изменений текста, выделений и переключений между файлами
- **Умные интервалы**: Автоматическая адаптация частоты напоминаний на основе типа блокировок
- **Интеграция с Git**: Показ контекста изменённых файлов в диалогах
- **Гибкие настройки**: Настройка вопросов, интервалов и порогов неактивности
- **Состояние сессии**: Сохранение контекста между перезапусками редактора

## Настройки

Все настройки доступны в `Settings` > `Extensions` > `Task Nudge`:

- `taskNudge.enabled` - Включить/отключить расширение
- `taskNudge.baseIntervalMinutes` - Базовый интервал между напоминаниями (по умолчанию: 15 мин)
- `taskNudge.maxIntervalMinutes` - Максимальный интервал (по умолчанию: 60 мин)
- `taskNudge.idleThresholdSeconds` - Порог неактивности в секундах (по умолчанию: 180 сек)
- `taskNudge.questionsEnabled.*` - Включение/отключение отдельных вопросов

## Команды

- `Task Nudge: Check Now` - Немедленно показать диалог напоминания

## Как это работает

1. **Отслеживание активности**: Расширение отслеживает действия пользователя в редакторе
2. **Детекция неактивности**: После периода бездействия (по умолчанию 3 минуты) запускается таймер
3. **Показ диалога**: Через настроенный интервал показывается диалог с вопросами
4. **Анализ ответов**: На основе ответов (особенно типа блокировки) корректируется следующий интервал
5. **Адаптация**: Если разработчик ждёт ответа от коллег, интервал увеличивается

## Типы блокировок

- **Ничего не блокирует** - стандартный интервал
- **Жду ответа от коллег** - увеличенный интервал
- **Жду процессы/системы** - увеличенный интервал  
- **Другое** - возможность указать детали

## Разработка

### Требования

- Node.js 16+
- VS Code 1.106.1+

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

1. Откройте проект в VS Code
2. Нажмите `F5` или запустите задачу "Run Extension"
3. Откроется новое окно VS Code с расширением

### Сборка

```bash
npm run compile
```

### Тестирование

```bash
npm run test
```

### Упаковка

```bash
npm run package
```

## Структура проекта

```
src/
├── extension.ts     # Основная логика расширения
├── config.ts        # Управление настройками
├── dialog.ts        # Диалоги пользователя
├── git.ts          # Интеграция с Git
├── state.ts        # Управление состоянием
├── types.ts        # TypeScript интерфейсы
└── test/           # Тесты
```

## Лицензия

MIT
